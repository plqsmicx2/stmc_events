# <===== FASTEST PLAYER ANNOUNCEMENTS =====>

# quick ranking calculation
function race:calculate_rankings

# fixing up our ticks
scoreboard players set race.handler race.laptime.tick 5
execute as @a run scoreboard players operation @s race.laptime.tick *= race.handler race.laptime.tick

tellraw @a {"text":"Fastest players:",color:"white"}
execute as @a if score @s race.completion.rank matches 1 if score @s race.laptime.seconds matches 0..9 run tellraw @a [{text:"[#1]: ",color:"green"},{selector:"@s"},{text:" - ",color:green},{score:{name:"@s",objective:race.laptime.mins},color:green},{text:":0",color:green},{score:{name:"@s",objective:race.laptime.seconds},color:green},{text:".",color:green},{score:{name:"@s",objective:race.laptime.tick},color:green}]
execute as @a if score @s race.completion.rank matches 1 if score @s race.laptime.seconds matches 10.. run tellraw @a [{text:"[#1]: ",color:"green"},{selector:"@s"},{text:" - ",color:green},{score:{name:"@s",objective:race.laptime.mins},color:green},{text:":",color:green},{score:{name:"@s",objective:race.laptime.seconds},color:green},{text:".",color:green},{score:{name:"@s",objective:race.laptime.tick},color:green}]
execute as @a if score @s race.completion.rank matches 2 if score @s race.laptime.seconds matches 0..9 run tellraw @a [{text:"[#2]: ",color:"green"},{selector:"@s"},{text:" - ",color:green},{score:{name:"@s",objective:race.laptime.mins},color:green},{text:":0",color:green},{score:{name:"@s",objective:race.laptime.seconds},color:green},{text:".",color:green},{score:{name:"@s",objective:race.laptime.tick},color:green}]
execute as @a if score @s race.completion.rank matches 2 if score @s race.laptime.seconds matches 10.. run tellraw @a [{text:"[#2]: ",color:"green"},{selector:"@s"},{text:" - ",color:green},{score:{name:"@s",objective:race.laptime.mins},color:green},{text:":",color:green},{score:{name:"@s",objective:race.laptime.seconds},color:green},{text:".",color:green},{score:{name:"@s",objective:race.laptime.tick},color:green}]
execute as @a if score @s race.completion.rank matches 3 if score @s race.laptime.seconds matches 0..9 run tellraw @a [{text:"[#3]: ",color:"green"},{selector:"@s"},{text:" - ",color:green},{score:{name:"@s",objective:race.laptime.mins},color:green},{text:":0",color:green},{score:{name:"@s",objective:race.laptime.seconds},color:green},{text:".",color:green},{score:{name:"@s",objective:race.laptime.tick},color:green}]
execute as @a if score @s race.completion.rank matches 3 if score @s race.laptime.seconds matches 10.. run tellraw @a [{text:"[#3]: ",color:"green"},{selector:"@s"},{text:" - ",color:green},{score:{name:"@s",objective:race.laptime.mins},color:green},{text:":",color:green},{score:{name:"@s",objective:race.laptime.seconds},color:green},{text:".",color:green},{score:{name:"@s",objective:race.laptime.tick},color:green}]
execute as @a if score @s race.completion.rank matches 4 if score @s race.laptime.seconds matches 0..9 run tellraw @a [{text:"[#4]: ",color:"green"},{selector:"@s"},{text:" - ",color:green},{score:{name:"@s",objective:race.laptime.mins},color:green},{text:":0",color:green},{score:{name:"@s",objective:race.laptime.seconds},color:green},{text:".",color:green},{score:{name:"@s",objective:race.laptime.tick},color:green}]
execute as @a if score @s race.completion.rank matches 4 if score @s race.laptime.seconds matches 10.. run tellraw @a [{text:"[#4]: ",color:"green"},{selector:"@s"},{text:" - ",color:green},{score:{name:"@s",objective:race.laptime.mins},color:green},{text:":",color:green},{score:{name:"@s",objective:race.laptime.seconds},color:green},{text:".",color:green},{score:{name:"@s",objective:race.laptime.tick},color:green}]
execute as @a if score @s race.completion.rank matches 5 if score @s race.laptime.seconds matches 0..9 run tellraw @a [{text:"[#5]: ",color:"green"},{selector:"@s"},{text:" - ",color:green},{score:{name:"@s",objective:race.laptime.mins},color:green},{text:":0",color:green},{score:{name:"@s",objective:race.laptime.seconds},color:green},{text:".",color:green},{score:{name:"@s",objective:race.laptime.tick},color:green}]
execute as @a if score @s race.completion.rank matches 5 if score @s race.laptime.seconds matches 10.. run tellraw @a [{text:"[#5]: ",color:"green"},{selector:"@s"},{text:" - ",color:green},{score:{name:"@s",objective:race.laptime.mins},color:green},{text:":",color:green},{score:{name:"@s",objective:race.laptime.seconds},color:green},{text:".",color:green},{score:{name:"@s",objective:race.laptime.tick},color:green}]
execute as @a unless score @s race.completion.rank matches ..5 if score @s race.laptime.seconds matches 0..9 run tellraw @s [{text:"[#: ",color:"green"},{score:{name:"@s",objective:race.completion.rank},color:green},{text:"]: ",color:"green"},{selector:"@s"},{text:" - ",color:green},{score:{name:"@s",objective:race.laptime.mins},color:green},{text:":0",color:green},{score:{name:"@s",objective:race.laptime.seconds},color:green},{text:".",color:green},{score:{name:"@s",objective:race.laptime.tick},color:green}]
execute as @a unless score @s race.completion.rank matches ..5 if score @s race.laptime.seconds matches 10.. run tellraw @s [{text:"[#: ",color:"green"},{score:{name:"@s",objective:race.completion.rank},color:green},{text:"]: ",color:"green"},{selector:"@s"},{text:" - ",color:green},{score:{name:"@s",objective:race.laptime.mins},color:green},{text:":",color:green},{score:{name:"@s",objective:race.laptime.seconds},color:green},{text:".",color:green},{score:{name:"@s",objective:race.laptime.tick},color:green}]